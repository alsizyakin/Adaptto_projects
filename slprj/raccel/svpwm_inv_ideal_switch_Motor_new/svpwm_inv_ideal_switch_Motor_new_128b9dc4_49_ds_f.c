#include "ne_ds.h"
#include "svpwm_inv_ideal_switch_Motor_new_128b9dc4_49_ds_sys_struct.h"
#include "svpwm_inv_ideal_switch_Motor_new_128b9dc4_49_ds_f.h"
#include "svpwm_inv_ideal_switch_Motor_new_128b9dc4_49_ds.h"
#include "svpwm_inv_ideal_switch_Motor_new_128b9dc4_49_ds_externals.h"
#include "svpwm_inv_ideal_switch_Motor_new_128b9dc4_49_ds_external_struct.h"
#include "ssc_ml_fun.h"
int32_T svpwm_inv_ideal_switch_Motor_new_128b9dc4_49_ds_f ( const
NeDynamicSystem * sys , const NeDynamicSystemInput * t48 , NeDsMethodOutput *
out ) { real_T Ideal_Semiconductor_Switch1_ideal_switch_v ; real_T
Ideal_Semiconductor_Switch2_diode_private_Diode_v_diode ; real_T
Ideal_Semiconductor_Switch4_diode_i ; real_T
Ideal_Semiconductor_Switch5_diode_private_Diode_v_diode ; real_T
Ideal_Semiconductor_Switch5_ideal_switch_v ; real_T
Ideal_Semiconductor_Switch6_diode_i ; real_T PMSM_electrical_angle ; real_T
PMSM_v_ae ; real_T PMSM_v_be ; real_T PMSM_v_ce ; real_T t11 ; real_T t12 ;
real_T t14 ; real_T t2 ; real_T t29 ; real_T t32 ; real_T t34 ; real_T t35 ;
real_T t39 ; real_T t4 ; real_T t40 ; real_T t41 ; real_T t42 ; real_T t44 ;
real_T t6 ; real_T t7 ; real_T t8 ; t7 = ( ( ( ( ( ( ( ( - t48 -> mX . mX [
1UL ] + t48 -> mX . mX [ 0UL ] * - 0.002 ) + t48 -> mX . mX [ 7UL ] * - 0.002
) + t48 -> mX . mX [ 8UL ] * 0.002 ) + t48 -> mX . mX [ 9UL ] * - 0.002 ) +
t48 -> mX . mX [ 10UL ] * 0.002 ) + t48 -> mX . mX [ 11UL ] * - 0.002 ) + t48
-> mX . mX [ 12UL ] * 0.002 ) + t48 -> mX . mX [ 13UL ] * -
2.0000000000000004E-12 ) + t48 -> mX . mX [ 21UL ] ;
Ideal_Semiconductor_Switch1_ideal_switch_v = ( ( ( ( ( ( ( ( t48 -> mX . mX [
0UL ] * 0.002 - t48 -> mX . mX [ 21UL ] ) + t48 -> mX . mX [ 7UL ] * 0.002 )
+ t48 -> mX . mX [ 8UL ] * - 0.002 ) + t48 -> mX . mX [ 9UL ] * 0.002 ) + t48
-> mX . mX [ 10UL ] * - 0.002 ) + t48 -> mX . mX [ 11UL ] * 0.002 ) + t48 ->
mX . mX [ 12UL ] * - 0.002 ) + t48 -> mX . mX [ 13UL ] *
2.0000000000000004E-12 ) + t48 -> mX . mX [ 1UL ] ;
Ideal_Semiconductor_Switch2_diode_private_Diode_v_diode = ( ( ( ( ( ( ( ( -
t48 -> mX . mX [ 1UL ] + t48 -> mX . mX [ 0UL ] * - 0.002 ) + t48 -> mX . mX
[ 7UL ] * - 0.002 ) + t48 -> mX . mX [ 8UL ] * 0.002 ) + t48 -> mX . mX [ 9UL
] * - 0.002 ) + t48 -> mX . mX [ 10UL ] * 0.002 ) + t48 -> mX . mX [ 11UL ] *
- 0.002 ) + t48 -> mX . mX [ 12UL ] * 0.002 ) + t48 -> mX . mX [ 13UL ] * -
2.0000000000000004E-12 ) + t48 -> mX . mX [ 18UL ] ; t12 = ( ( ( ( ( ( ( ( t48
-> mX . mX [ 0UL ] * 0.002 - t48 -> mX . mX [ 18UL ] ) + t48 -> mX . mX [ 7UL
] * 0.002 ) + t48 -> mX . mX [ 8UL ] * - 0.002 ) + t48 -> mX . mX [ 9UL ] *
0.002 ) + t48 -> mX . mX [ 10UL ] * - 0.002 ) + t48 -> mX . mX [ 11UL ] *
0.002 ) + t48 -> mX . mX [ 12UL ] * - 0.002 ) + t48 -> mX . mX [ 13UL ] *
2.0000000000000004E-12 ) + t48 -> mX . mX [ 1UL ] ; t14 = ( ( - t48 -> mX .
mX [ 8UL ] + t48 -> mX . mX [ 7UL ] ) + t48 -> mX . mX [ 25UL ] ) + t48 -> mX
. mX [ 26UL ] ; Ideal_Semiconductor_Switch4_diode_i = ( ( - t48 -> mX . mX [
10UL ] + t48 -> mX . mX [ 9UL ] ) + t48 -> mX . mX [ 28UL ] ) + t48 -> mX .
mX [ 29UL ] ; Ideal_Semiconductor_Switch5_diode_private_Diode_v_diode = ( ( ( ( ( ( ( ( - t48 -> mX . mX [ 1UL ] + t48 -> mX . mX [ 0UL ] * - 0.002 ) + t48 -> mX . mX [ 7UL ] * - 0.002 ) + t48 -> mX . mX [ 8UL ] * 0.002 ) + t48 -> mX . mX [ 9UL ] * - 0.002 ) + t48 -> mX . mX [ 10UL ] * 0.002 ) + t48 -> mX . mX [ 11UL ] * - 0.002 ) + t48 -> mX . mX [ 12UL ] * 0.002 ) + t48 -> mX . mX [ 13UL ] * - 2.0000000000000004E-12 ) + t48 -> mX . mX [ 15UL ] ; Ideal_Semiconductor_Switch5_ideal_switch_v = ( ( ( ( ( ( ( ( t48 -> mX . mX [ 0UL ] * 0.002 - t48 -> mX . mX [ 15UL ] ) + t48 -> mX . mX [ 7UL ] * 0.002 ) + t48 -> mX . mX [ 8UL ] * - 0.002 ) + t48 -> mX . mX [ 9UL ] * 0.002 ) + t48 -> mX . mX [ 10UL ] * - 0.002 ) + t48 -> mX . mX [ 11UL ] * 0.002 ) + t48 -> mX . mX [ 12UL ] * - 0.002 ) + t48 -> mX . mX [ 13UL ] * 2.0000000000000004E-12 ) + t48 -> mX . mX [ 1UL ] ; Ideal_Semiconductor_Switch6_diode_i = ( ( - t48 -> mX . mX [ 12UL ] + t48 -> mX . mX [ 11UL ] ) + t48 -> mX . mX [ 32UL ] ) + t48 -> mX . mX [ 33UL ] ; PMSM_electrical_angle = t48 -> mX . mX [ 4UL ] * 24.0 ; t2 = PMSM_electrical_angle ; t32 = PMSM_electrical_angle - 2.0943951023931953 ; t4 = PMSM_electrical_angle + 2.0943951023931953 ; t34 = cos ( PMSM_electrical_angle ) * 0.66666666666666663 ; t35 = cos ( PMSM_electrical_angle - 2.0943951023931953 ) * 0.66666666666666663 ; t6 = cos ( PMSM_electrical_angle + 2.0943951023931953 ) * 0.66666666666666663 ; t8 = - sin ( PMSM_electrical_angle ) * 0.66666666666666663 ; t11 = - sin ( PMSM_electrical_angle - 2.0943951023931953 ) * 0.66666666666666663 ; t39 = - sin ( PMSM_electrical_angle + 2.0943951023931953 ) * 0.66666666666666663 ; PMSM_electrical_angle = t48 -> mX . mX [ 5UL ] * 4.9E-5 + 0.037685 ; t29 = t48 -> mX . mX [ 6UL ] * 5.8E-5 ; PMSM_v_ae = t48 -> mX . mX [ 21UL ] - t48 -> mX . mX [ 26UL ] * 0.0013000000000000002 ; PMSM_v_be = t48 -> mX . mX [ 18UL ] - t48 -> mX . mX [ 29UL ] * 0.0013000000000000002 ; PMSM_v_ce = t48 -> mX . mX [ 15UL ] - t48 -> mX . mX [ 33UL ] * 0.0013000000000000002 ; t40 = cos ( t2 ) ; t41 = - sin ( t2 ) ; t42 = cos ( t32 ) ; t32 = - sin ( t32 ) ; t44 = cos ( t4 ) ; t2 = - sin ( t4 ) ; if ( ( size_t ) t48 -> mQ . mX [ 0UL ] == 1UL ) { out -> mF . mX [ 7UL ] = t48 -> mX . mX [ 14UL ] - t48 -> mX . mX [ 15UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 0UL ] == 2UL ) { out -> mF . mX [ 7UL ] = t48 -> mX . mX [ 14UL ] - t48 -> mX . mX [ 15UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 0UL ] == 3UL ) { out -> mF . mX [ 7UL ] = t48 -> mX . mX [ 14UL ] - t48 -> mX . mX [ 15UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 0UL ] == 4UL ) { out -> mF . mX [ 7UL ] = t48 -> mX . mX [ 14UL ] - t48 -> mX . mX [ 15UL ] ; } else { out -> mF . mX [ 7UL ] = ( t48 -> mX . mX [ 14UL ] - t48 -> mX . mX [ 15UL ] ) - 15.0 ; } if ( ( size_t ) t48 -> mQ . mX [ 1UL ] == 1UL ) { out -> mF . mX [ 8UL ] = t48 -> mX . mX [ 16UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 1UL ] == 2UL ) { out -> mF . mX [ 8UL ] = t48 -> mX . mX [ 16UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 1UL ] == 3UL ) { out -> mF . mX [ 8UL ] = t48 -> mX . mX [ 16UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 1UL ] == 4UL ) { out -> mF . mX [ 8UL ] = t48 -> mX . mX [ 16UL ] ; } else { out -> mF . mX [ 8UL ] = t48 -> mX . mX [ 16UL ] - 15.0 ; } if ( ( size_t ) t48 -> mQ . mX [ 2UL ] == 1UL ) { out -> mF . mX [ 9UL ] = t48 -> mX . mX [ 17UL ] - t48 -> mX . mX [ 18UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 2UL ] == 2UL ) { out -> mF . mX [ 9UL ] = t48 -> mX . mX [ 17UL ] - t48 -> mX . mX [ 18UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 2UL ] == 3UL ) { out -> mF . mX [ 9UL ] = t48 -> mX . mX [ 17UL ] - t48 -> mX . mX [ 18UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 2UL ] == 4UL ) { out -> mF . mX [ 9UL ] = t48 -> mX . mX [ 17UL ] - t48 -> mX . mX [ 18UL ] ; } else { out -> mF . mX [ 9UL ] = ( t48 -> mX . mX [ 17UL ] - t48 -> mX . mX [ 18UL ] ) - 15.0 ; } if ( ( size_t ) t48 -> mQ . mX [ 3UL ] == 1UL ) { out -> mF . mX [ 10UL ] = t48 -> mX . mX [ 19UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 3UL ] == 2UL ) { out -> mF . mX [ 10UL ] = t48 -> mX . mX [ 19UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 3UL ] == 3UL ) { out -> mF . mX [ 10UL ] = t48 -> mX . mX [ 19UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 3UL ] == 4UL ) { out -> mF . mX [ 10UL ] = t48 -> mX . mX [ 19UL ] ; } else { out -> mF . mX [ 10UL ] = t48 -> mX . mX [ 19UL ] - 15.0 ; } if ( ( size_t ) t48 -> mQ . mX [ 4UL ] == 1UL ) { out -> mF . mX [ 11UL ] = t48 -> mX . mX [ 20UL ] - t48 -> mX . mX [ 21UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 4UL ] == 2UL ) { out -> mF . mX [ 11UL ] = t48 -> mX . mX [ 20UL ] - t48 -> mX . mX [ 21UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 4UL ] == 3UL ) { out -> mF . mX [ 11UL ] = t48 -> mX . mX [ 20UL ] - t48 -> mX . mX [ 21UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 4UL ] == 4UL ) { out -> mF . mX [ 11UL ] = t48 -> mX . mX [ 20UL ] - t48 -> mX . mX [ 21UL ] ; } else { out -> mF . mX [ 11UL ] = ( t48 -> mX . mX [ 20UL ] - t48 -> mX . mX [ 21UL ] ) - 15.0 ; } if ( ( size_t ) t48 -> mQ . mX [ 5UL ] == 1UL ) { out -> mF . mX [ 12UL ] = t48 -> mX . mX [ 22UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 5UL ] == 2UL ) { out -> mF . mX [ 12UL ] = t48 -> mX . mX [ 22UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 5UL ] == 3UL ) { out -> mF . mX [ 12UL ] = t48 -> mX . mX [ 22UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 5UL ] == 4UL ) { out -> mF . mX [ 12UL ] = t48 -> mX . mX [ 22UL ] ; } else { out -> mF . mX [ 12UL ] = t48 -> mX . mX [ 22UL ] - 15.0 ; } if ( t48 -> mM . mX [ 44UL ] != 0 ) { out -> mF . mX [ 13UL ] = t7 - ( t48 -> mX . mX [ 23UL ] + 0.8 ) ; } else { out -> mF . mX [ 13UL ] = t7 - ( t48 -> mX . mX [ 23UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 44UL ] != 0 ) { out -> mF . mX [ 14UL ] = t48 -> mX . mX [ 7UL ] - ( t48 -> mX . mX [ 23UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 14UL ] = t48 -> mX . mX [ 7UL ] - ( t48 -> mX . mX [ 23UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 45UL ] != 0 ) { out -> mF . mX [ 15UL ] = Ideal_Semiconductor_Switch1_ideal_switch_v - t48 -> mX . mX [ 8UL ] * 0.001 ; } else { out -> mF . mX [ 15UL ] = Ideal_Semiconductor_Switch1_ideal_switch_v * 1.0E-6 - t48 -> mX . mX [ 8UL ] ; } if ( t48 -> mM . mX [ 46UL ] != 0 ) { out -> mF . mX [ 16UL ] = Ideal_Semiconductor_Switch2_diode_private_Diode_v_diode - ( t48 -> mX . mX [ 24UL ] + 0.8 ) ; } else { out -> mF . mX [ 16UL ] = Ideal_Semiconductor_Switch2_diode_private_Diode_v_diode - ( t48 -> mX . mX [ 24UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 46UL ] != 0 ) { out -> mF . mX [ 17UL ] = t48 -> mX . mX [ 9UL ] - ( t48 -> mX . mX [ 24UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 17UL ] = t48 -> mX . mX [ 9UL ] - ( t48 -> mX . mX [ 24UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 47UL ] != 0 ) { out -> mF . mX [ 18UL ] = t12 - t48 -> mX . mX [ 10UL ] * 0.001 ; } else { out -> mF . mX [ 18UL ] = t12 * 1.0E-6 - t48 -> mX . mX [ 10UL ] ; } if ( t48 -> mM . mX [ 48UL ] != 0 ) { out -> mF . mX [ 19UL ] = - t48 -> mX . mX [ 21UL ] - ( t48 -> mX . mX [ 27UL ] + 0.8 ) ; } else { out -> mF . mX [ 19UL ] = - t48 -> mX . mX [ 21UL ] - ( t48 -> mX . mX [ 27UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 48UL ] != 0 ) { out -> mF . mX [ 20UL ] = t14 - ( t48 -> mX . mX [ 27UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 20UL ] = t14 - ( t48 -> mX . mX [ 27UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 49UL ] != 0 ) { out -> mF . mX [ 21UL ] = t48 -> mX . mX [ 21UL ] - t48 -> mX . mX [ 25UL ] * 0.001 ; } else { out -> mF . mX [ 21UL ] = t48 -> mX . mX [ 21UL ] * 1.0E-6 - t48 -> mX . mX [ 25UL ] ; } if ( t48 -> mM . mX [ 50UL ] != 0 ) { out -> mF . mX [ 22UL ] = - t48 -> mX . mX [ 18UL ] - ( t48 -> mX . mX [ 30UL ] + 0.8 ) ; } else { out -> mF . mX [ 22UL ] = - t48 -> mX . mX [ 18UL ] - ( t48 -> mX . mX [ 30UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 50UL ] != 0 ) { out -> mF . mX [ 23UL ] = Ideal_Semiconductor_Switch4_diode_i - ( t48 -> mX . mX [ 30UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 23UL ] = Ideal_Semiconductor_Switch4_diode_i - ( t48 -> mX . mX [ 30UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 51UL ] != 0 ) { out -> mF . mX [ 24UL ] = t48 -> mX . mX [ 18UL ] - t48 -> mX . mX [ 28UL ] * 0.001 ; } else { out -> mF . mX [ 24UL ] = t48 -> mX . mX [ 18UL ] * 1.0E-6 - t48 -> mX . mX [ 28UL ] ; } if ( t48 -> mM . mX [ 52UL ] != 0 ) { out -> mF . mX [ 25UL ] = Ideal_Semiconductor_Switch5_diode_private_Diode_v_diode - ( t48 -> mX . mX [ 31UL ] + 0.8 ) ; } else { out -> mF . mX [ 25UL ] = Ideal_Semiconductor_Switch5_diode_private_Diode_v_diode - ( t48 -> mX . mX [ 31UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 52UL ] != 0 ) { out -> mF . mX [ 26UL ] = t48 -> mX . mX [ 11UL ] - ( t48 -> mX . mX [ 31UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 26UL ] = t48 -> mX . mX [ 11UL ] - ( t48 -> mX . mX [ 31UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 53UL ] != 0 ) { out -> mF . mX [ 27UL ] = Ideal_Semiconductor_Switch5_ideal_switch_v - t48 -> mX . mX [ 12UL ] * 0.001 ; } else { out -> mF . mX [ 27UL ] = Ideal_Semiconductor_Switch5_ideal_switch_v * 1.0E-6 - t48 -> mX . mX [ 12UL ] ; } if ( t48 -> mM . mX [ 54UL ] != 0 ) { out -> mF . mX [ 28UL ] = - t48 -> mX . mX [ 15UL ] - ( t48 -> mX . mX [ 34UL ] + 0.8 ) ; } else { out -> mF . mX [ 28UL ] = - t48 -> mX . mX [ 15UL ] - ( t48 -> mX . mX [ 34UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 54UL ] != 0 ) { out -> mF . mX [ 29UL ] = Ideal_Semiconductor_Switch6_diode_i - ( t48 -> mX . mX [ 34UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 29UL ] = Ideal_Semiconductor_Switch6_diode_i - ( t48 -> mX . mX [ 34UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 55UL ] != 0 ) { out -> mF . mX [ 30UL ] = t48 -> mX . mX [ 15UL ] - t48 -> mX . mX [ 32UL ] * 0.001 ; } else { out -> mF . mX [ 30UL ] = t48 -> mX . mX [ 15UL ] * 1.0E-6 - t48 -> mX . mX [ 32UL ] ; } out -> mF . mX [ 0UL ] = - 0.0 ; out -> mF . mX [ 1UL ] = - 0.0 ; out -> mF . mX [ 2UL ] = - 0.0 ; out -> mF . mX [ 3UL ] = - 0.0 ; out -> mF . mX [ 4UL ] = - 0.0 ; out -> mF . mX [ 5UL ] = - ( ( ( ( t34 * PMSM_v_ae + t35 * PMSM_v_be ) + t6 * PMSM_v_ce ) - ( - ( t48 -> mX . mX [ 2UL ] * t29 * 24.0 ) ) ) / 0.66666666666666663 ) ; out -> mF . mX [ 6UL ] = - ( ( ( ( t8 * PMSM_v_ae + t11 * PMSM_v_be ) + t39 * PMSM_v_ce ) - t48 -> mX . mX [ 2UL ] * PMSM_electrical_angle * 24.0 ) / 0.90444000000000013 ) ; out -> mF . mX [ 31UL ] = - ( ( t48 -> mX . mX [ 6UL ] * PMSM_electrical_angle - t48 -> mX . mX [ 5UL ] * t29 ) * 36.0 ) / 1.3566600000000002 ; out -> mF . mX [ 32UL ] = - ( t40 * t48 -> mX . mX [ 5UL ] + t41 * t48 -> mX . mX [ 6UL ] ) ; out -> mF . mX [ 33UL ] = - ( t42 * t48 -> mX . mX [ 5UL ] + t32 * t48 -> mX . mX [ 6UL ] ) ; out -> mF . mX [ 34UL ] = - ( t44 * t48 -> mX . mX [ 5UL ] + t2 * t48 -> mX . mX [ 6UL ] ) ; out -> mF . mX [ 35UL ] = - ( ( real_T ) ( t48 -> mM . mX [ 42UL ] != 0 ) * t48 -> mT . mX [ 0UL ] * 400000.0 + ( real_T ) ( t48 -> mM . mX [ 43UL ] != 0 ) * 400.0 ) ; ( void ) sys ; ( void ) out ; return 0 ; }
