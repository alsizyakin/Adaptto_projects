#include "ne_ds.h"
#include "svpwm_inv_ideal_switch_Motor_DVS_128b9dc4_49_ds_sys_struct.h"
#include "svpwm_inv_ideal_switch_Motor_DVS_128b9dc4_49_ds_f.h"
#include "svpwm_inv_ideal_switch_Motor_DVS_128b9dc4_49_ds.h"
#include "svpwm_inv_ideal_switch_Motor_DVS_128b9dc4_49_ds_externals.h"
#include "svpwm_inv_ideal_switch_Motor_DVS_128b9dc4_49_ds_external_struct.h"
#include "ssc_ml_fun.h"
int32_T svpwm_inv_ideal_switch_Motor_DVS_128b9dc4_49_ds_f ( const
NeDynamicSystem * sys , const NeDynamicSystemInput * t48 , NeDsMethodOutput *
out ) { real_T Ideal_Semiconductor_Switch1_ideal_switch_v ; real_T
Ideal_Semiconductor_Switch2_diode_private_Diode_v_diode ; real_T
Ideal_Semiconductor_Switch3_ideal_switch_v ; real_T
Ideal_Semiconductor_Switch4_diode_private_Diode_v_diode ; real_T
Ideal_Semiconductor_Switch5_diode_i ; real_T
Ideal_Semiconductor_Switch5_diode_private_Diode_v_diode ; real_T
Ideal_Semiconductor_Switch5_ideal_switch_v ; real_T PMSM_electrical_angle ;
real_T PMSM_v_ae ; real_T PMSM_v_b ; real_T PMSM_v_be ; real_T PMSM_v_ce ;
real_T t11 ; real_T t12 ; real_T t13 ; real_T t14 ; real_T t18 ; real_T t22 ;
real_T t28 ; real_T t3 ; real_T t32 ; real_T t34 ; real_T t35 ; real_T t36 ;
real_T t39 ; real_T t40 ; real_T t41 ; real_T t47 ; real_T t5 ; real_T t6 ;
real_T t7 ; real_T t8 ; t6 = ( ( ( - t48 -> mX . mX [ 0UL ] + t48 -> mX . mX
[ 1UL ] * - 0.001 ) + t48 -> mX . mX [ 7UL ] * - 0.001 ) + t48 -> mX . mX [
8UL ] * - 1.000000000001 ) + 400.0 ; t8 = ( ( ( ( ( ( ( ( - t48 -> mX . mX [
1UL ] - t48 -> mX . mX [ 19UL ] ) - t48 -> mX . mX [ 21UL ] ) + t48 -> mX .
mX [ 8UL ] * - 1.0E-9 ) + t48 -> mX . mX [ 7UL ] ) + t48 -> mX . mX [ 18UL ]
) + t48 -> mX . mX [ 20UL ] ) + t48 -> mX . mX [ 22UL ] ) + t48 -> mX . mX [
23UL ] ) + t48 -> mX . mX [ 24UL ] ; t7 = ( ( t48 -> mX . mX [ 1UL ] * 0.001
+ t48 -> mX . mX [ 8UL ] * 1.000000000001 ) + t48 -> mX . mX [ 16UL ] ) -
400.0 ; Ideal_Semiconductor_Switch1_ideal_switch_v = ( ( t48 -> mX . mX [ 1UL
] * - 0.001 - t48 -> mX . mX [ 16UL ] ) + t48 -> mX . mX [ 8UL ] * -
1.000000000001 ) + 400.0 ; t11 = ( ( - t48 -> mX . mX [ 20UL ] - t48 -> mX .
mX [ 23UL ] ) + t48 -> mX . mX [ 26UL ] ) + t48 -> mX . mX [ 19UL ] ;
Ideal_Semiconductor_Switch2_diode_private_Diode_v_diode = ( ( t48 -> mX . mX
[ 1UL ] * 0.001 + t48 -> mX . mX [ 8UL ] * 1.000000000001 ) + t48 -> mX . mX
[ 13UL ] ) - 400.0 ; t12 = ( ( t48 -> mX . mX [ 1UL ] * - 0.001 - t48 -> mX .
mX [ 13UL ] ) + t48 -> mX . mX [ 8UL ] * - 1.000000000001 ) + 400.0 ; t14 = ( ( ( ( ( ( ( ( ( - t48 -> mX . mX [ 1UL ] - t48 -> mX . mX [ 19UL ] ) - t48 -> mX . mX [ 21UL ] ) + t48 -> mX . mX [ 8UL ] * - 1.0E-9 ) + t48 -> mX . mX [ 7UL ] ) + t48 -> mX . mX [ 28UL ] ) + t48 -> mX . mX [ 20UL ] ) + t48 -> mX . mX [ 22UL ] ) + t48 -> mX . mX [ 29UL ] ) + t48 -> mX . mX [ 23UL ] ) + t48 -> mX . mX [ 24UL ] ; t13 = ( ( ( ( - t48 -> mX . mX [ 0UL ] + t48 -> mX . mX [ 1UL ] * - 0.001 ) + t48 -> mX . mX [ 7UL ] * - 0.001 ) - t48 -> mX . mX [ 16UL ] ) + t48 -> mX . mX [ 8UL ] * - 1.000000000001 ) + 400.0 ; Ideal_Semiconductor_Switch3_ideal_switch_v = ( ( ( ( t48 -> mX . mX [ 1UL ] * 0.001 + t48 -> mX . mX [ 7UL ] * 0.001 ) + t48 -> mX . mX [ 8UL ] * 1.000000000001 ) + t48 -> mX . mX [ 0UL ] ) + t48 -> mX . mX [ 16UL ] ) - 400.0 ; Ideal_Semiconductor_Switch4_diode_private_Diode_v_diode = ( ( ( ( - t48 -> mX . mX [ 0UL ] + t48 -> mX . mX [ 1UL ] * - 0.001 ) + t48 -> mX . mX [ 7UL ] * - 0.001 ) - t48 -> mX . mX [ 13UL ] ) + t48 -> mX . mX [ 8UL ] * - 1.000000000001 ) + 400.0 ; t18 = ( ( ( ( t48 -> mX . mX [ 1UL ] * 0.001 + t48 -> mX . mX [ 7UL ] * 0.001 ) + t48 -> mX . mX [ 8UL ] * 1.000000000001 ) + t48 -> mX . mX [ 0UL ] ) + t48 -> mX . mX [ 13UL ] ) - 400.0 ; Ideal_Semiconductor_Switch5_diode_i = ( ( - t48 -> mX . mX [ 22UL ] - t48 -> mX . mX [ 24UL ] ) + t48 -> mX . mX [ 32UL ] ) + t48 -> mX . mX [ 21UL ] ; Ideal_Semiconductor_Switch5_diode_private_Diode_v_diode = ( ( t48 -> mX . mX [ 1UL ] * 0.001 + t48 -> mX . mX [ 8UL ] * 1.000000000001 ) + t48 -> mX . mX [ 10UL ] ) - 400.0 ; Ideal_Semiconductor_Switch5_ideal_switch_v = ( ( t48 -> mX . mX [ 1UL ] * - 0.001 - t48 -> mX . mX [ 10UL ] ) + t48 -> mX . mX [ 8UL ] * - 1.000000000001 ) + 400.0 ; t22 = ( ( ( ( - t48 -> mX . mX [ 0UL ] + t48 -> mX . mX [ 1UL ] * - 0.001 ) + t48 -> mX . mX [ 7UL ] * - 0.001 ) - t48 -> mX . mX [ 10UL ] ) + t48 -> mX . mX [ 8UL ] * - 1.000000000001 ) + 400.0 ; t47 = ( ( ( ( t48 -> mX . mX [ 1UL ] * 0.001 + t48 -> mX . mX [ 7UL ] * 0.001 ) + t48 -> mX . mX [ 8UL ] * 1.000000000001 ) + t48 -> mX . mX [ 0UL ] ) + t48 -> mX . mX [ 10UL ] ) - 400.0 ; PMSM_electrical_angle = t48 -> mX . mX [ 4UL ] * 24.0 ; t3 = PMSM_electrical_angle ; t32 = PMSM_electrical_angle - 2.0943951023931953 ; t5 = PMSM_electrical_angle + 2.0943951023931953 ; t34 = cos ( PMSM_electrical_angle ) * 0.66666666666666663 ; t35 = cos ( PMSM_electrical_angle - 2.0943951023931953 ) * 0.66666666666666663 ; t36 = cos ( PMSM_electrical_angle + 2.0943951023931953 ) * 0.66666666666666663 ; t40 = - sin ( PMSM_electrical_angle ) * 0.66666666666666663 ; t41 = - sin ( PMSM_electrical_angle - 2.0943951023931953 ) * 0.66666666666666663 ; t39 = - sin ( PMSM_electrical_angle + 2.0943951023931953 ) * 0.66666666666666663 ; PMSM_electrical_angle = t48 -> mX . mX [ 5UL ] * 4.9E-5 + 0.037685 ; t28 = t48 -> mX . mX [ 6UL ] * 4.9E-5 ; PMSM_v_ae = t48 -> mX . mX [ 16UL ] - t48 -> mX . mX [ 29UL ] * 0.0013 ; PMSM_v_be = t48 -> mX . mX [ 13UL ] - t48 -> mX . mX [ 23UL ] * 0.0013 ; PMSM_v_ce = t48 -> mX . mX [ 10UL ] - t48 -> mX . mX [ 24UL ] * 0.0013 ; PMSM_v_b = ( t34 * PMSM_v_ae + t35 * PMSM_v_be ) + t36 * PMSM_v_ce ; t34 = ( t40 * PMSM_v_ae + t41 * PMSM_v_be ) + t39 * PMSM_v_ce ; t40 = cos ( t3 ) ; t41 = - sin ( t3 ) ; t39 = cos ( t32 ) ; t36 = - sin ( t32 ) ; t3 = cos ( t5 ) ; t35 = - sin ( t5 ) ; if ( ( size_t ) t48 -> mQ . mX [ 0UL ] == 1UL ) { out -> mF . mX [ 7UL ] = t48 -> mX . mX [ 9UL ] - t48 -> mX . mX [ 10UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 0UL ] == 2UL ) { out -> mF . mX [ 7UL ] = t48 -> mX . mX [ 9UL ] - t48 -> mX . mX [ 10UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 0UL ] == 3UL ) { out -> mF . mX [ 7UL ] = t48 -> mX . mX [ 9UL ] - t48 -> mX . mX [ 10UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 0UL ] == 4UL ) { out -> mF . mX [ 7UL ] = t48 -> mX . mX [ 9UL ] - t48 -> mX . mX [ 10UL ] ; } else { out -> mF . mX [ 7UL ] = ( t48 -> mX . mX [ 9UL ] - t48 -> mX . mX [ 10UL ] ) - 15.0 ; } if ( ( size_t ) t48 -> mQ . mX [ 1UL ] == 1UL ) { out -> mF . mX [ 8UL ] = t48 -> mX . mX [ 11UL ] - t6 ; } else if ( ( size_t ) t48 -> mQ . mX [ 1UL ] == 2UL ) { out -> mF . mX [ 8UL ] = t48 -> mX . mX [ 11UL ] - t6 ; } else if ( ( size_t ) t48 -> mQ . mX [ 1UL ] == 3UL ) { out -> mF . mX [ 8UL ] = t48 -> mX . mX [ 11UL ] - t6 ; } else if ( ( size_t ) t48 -> mQ . mX [ 1UL ] == 4UL ) { out -> mF . mX [ 8UL ] = t48 -> mX . mX [ 11UL ] - t6 ; } else { out -> mF . mX [ 8UL ] = ( t48 -> mX . mX [ 11UL ] - t6 ) - 15.0 ; } if ( ( size_t ) t48 -> mQ . mX [ 2UL ] == 1UL ) { out -> mF . mX [ 9UL ] = t48 -> mX . mX [ 12UL ] - t48 -> mX . mX [ 13UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 2UL ] == 2UL ) { out -> mF . mX [ 9UL ] = t48 -> mX . mX [ 12UL ] - t48 -> mX . mX [ 13UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 2UL ] == 3UL ) { out -> mF . mX [ 9UL ] = t48 -> mX . mX [ 12UL ] - t48 -> mX . mX [ 13UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 2UL ] == 4UL ) { out -> mF . mX [ 9UL ] = t48 -> mX . mX [ 12UL ] - t48 -> mX . mX [ 13UL ] ; } else { out -> mF . mX [ 9UL ] = ( t48 -> mX . mX [ 12UL ] - t48 -> mX . mX [ 13UL ] ) - 15.0 ; } if ( ( size_t ) t48 -> mQ . mX [ 3UL ] == 1UL ) { out -> mF . mX [ 10UL ] = t48 -> mX . mX [ 14UL ] - t6 ; } else if ( ( size_t ) t48 -> mQ . mX [ 3UL ] == 2UL ) { out -> mF . mX [ 10UL ] = t48 -> mX . mX [ 14UL ] - t6 ; } else if ( ( size_t ) t48 -> mQ . mX [ 3UL ] == 3UL ) { out -> mF . mX [ 10UL ] = t48 -> mX . mX [ 14UL ] - t6 ; } else if ( ( size_t ) t48 -> mQ . mX [ 3UL ] == 4UL ) { out -> mF . mX [ 10UL ] = t48 -> mX . mX [ 14UL ] - t6 ; } else { out -> mF . mX [ 10UL ] = ( t48 -> mX . mX [ 14UL ] - t6 ) - 15.0 ; } if ( ( size_t ) t48 -> mQ . mX [ 4UL ] == 1UL ) { out -> mF . mX [ 11UL ] = t48 -> mX . mX [ 15UL ] - t48 -> mX . mX [ 16UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 4UL ] == 2UL ) { out -> mF . mX [ 11UL ] = t48 -> mX . mX [ 15UL ] - t48 -> mX . mX [ 16UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 4UL ] == 3UL ) { out -> mF . mX [ 11UL ] = t48 -> mX . mX [ 15UL ] - t48 -> mX . mX [ 16UL ] ; } else if ( ( size_t ) t48 -> mQ . mX [ 4UL ] == 4UL ) { out -> mF . mX [ 11UL ] = t48 -> mX . mX [ 15UL ] - t48 -> mX . mX [ 16UL ] ; } else { out -> mF . mX [ 11UL ] = ( t48 -> mX . mX [ 15UL ] - t48 -> mX . mX [ 16UL ] ) - 15.0 ; } if ( ( size_t ) t48 -> mQ . mX [ 5UL ] == 1UL ) { out -> mF . mX [ 12UL ] = t48 -> mX . mX [ 17UL ] - t6 ; } else if ( ( size_t ) t48 -> mQ . mX [ 5UL ] == 2UL ) { out -> mF . mX [ 12UL ] = t48 -> mX . mX [ 17UL ] - t6 ; } else if ( ( size_t ) t48 -> mQ . mX [ 5UL ] == 3UL ) { out -> mF . mX [ 12UL ] = t48 -> mX . mX [ 17UL ] - t6 ; } else if ( ( size_t ) t48 -> mQ . mX [ 5UL ] == 4UL ) { out -> mF . mX [ 12UL ] = t48 -> mX . mX [ 17UL ] - t6 ; } else { out -> mF . mX [ 12UL ] = ( t48 -> mX . mX [ 17UL ] - t6 ) - 15.0 ; } if ( t48 -> mM . mX [ 42UL ] != 0 ) { out -> mF . mX [ 13UL ] = t7 - ( t48 -> mX . mX [ 25UL ] + 0.8 ) ; } else { out -> mF . mX [ 13UL ] = t7 - ( t48 -> mX . mX [ 25UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 42UL ] != 0 ) { out -> mF . mX [ 14UL ] = t8 - ( t48 -> mX . mX [ 25UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 14UL ] = t8 - ( t48 -> mX . mX [ 25UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 43UL ] != 0 ) { out -> mF . mX [ 15UL ] = Ideal_Semiconductor_Switch1_ideal_switch_v - t48 -> mX . mX [ 18UL ] * 0.0001 ; } else { out -> mF . mX [ 15UL ] = Ideal_Semiconductor_Switch1_ideal_switch_v * 1.0E-6 - t48 -> mX . mX [ 18UL ] ; } if ( t48 -> mM . mX [ 44UL ] != 0 ) { out -> mF . mX [ 16UL ] = Ideal_Semiconductor_Switch2_diode_private_Diode_v_diode - ( t48 -> mX . mX [ 27UL ] + 0.8 ) ; } else { out -> mF . mX [ 16UL ] = Ideal_Semiconductor_Switch2_diode_private_Diode_v_diode - ( t48 -> mX . mX [ 27UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 44UL ] != 0 ) { out -> mF . mX [ 17UL ] = t11 - ( t48 -> mX . mX [ 27UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 17UL ] = t11 - ( t48 -> mX . mX [ 27UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 45UL ] != 0 ) { out -> mF . mX [ 18UL ] = t12 - t48 -> mX . mX [ 26UL ] * 0.0001 ; } else { out -> mF . mX [ 18UL ] = t12 * 1.0E-6 - t48 -> mX . mX [ 26UL ] ; } if ( t48 -> mM . mX [ 46UL ] != 0 ) { out -> mF . mX [ 19UL ] = t13 - ( t48 -> mX . mX [ 30UL ] + 0.8 ) ; } else { out -> mF . mX [ 19UL ] = t13 - ( t48 -> mX . mX [ 30UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 46UL ] != 0 ) { out -> mF . mX [ 20UL ] = t14 - ( t48 -> mX . mX [ 30UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 20UL ] = t14 - ( t48 -> mX . mX [ 30UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 47UL ] != 0 ) { out -> mF . mX [ 21UL ] = Ideal_Semiconductor_Switch3_ideal_switch_v - t48 -> mX . mX [ 28UL ] * 0.0001 ; } else { out -> mF . mX [ 21UL ] = Ideal_Semiconductor_Switch3_ideal_switch_v * 1.0E-6 - t48 -> mX . mX [ 28UL ] ; } if ( t48 -> mM . mX [ 48UL ] != 0 ) { out -> mF . mX [ 22UL ] = Ideal_Semiconductor_Switch4_diode_private_Diode_v_diode - ( t48 -> mX . mX [ 31UL ] + 0.8 ) ; } else { out -> mF . mX [ 22UL ] = Ideal_Semiconductor_Switch4_diode_private_Diode_v_diode - ( t48 -> mX . mX [ 31UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 48UL ] != 0 ) { out -> mF . mX [ 23UL ] = t48 -> mX . mX [ 19UL ] - ( t48 -> mX . mX [ 31UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 23UL ] = t48 -> mX . mX [ 19UL ] - ( t48 -> mX . mX [ 31UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 49UL ] != 0 ) { out -> mF . mX [ 24UL ] = t18 - t48 -> mX . mX [ 20UL ] * 0.0001 ; } else { out -> mF . mX [ 24UL ] = t18 * 1.0E-6 - t48 -> mX . mX [ 20UL ] ; } if ( t48 -> mM . mX [ 50UL ] != 0 ) { out -> mF . mX [ 25UL ] = Ideal_Semiconductor_Switch5_diode_private_Diode_v_diode - ( t48 -> mX . mX [ 33UL ] + 0.8 ) ; } else { out -> mF . mX [ 25UL ] = Ideal_Semiconductor_Switch5_diode_private_Diode_v_diode - ( t48 -> mX . mX [ 33UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 50UL ] != 0 ) { out -> mF . mX [ 26UL ] = Ideal_Semiconductor_Switch5_diode_i - ( t48 -> mX . mX [ 33UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 26UL ] = Ideal_Semiconductor_Switch5_diode_i - ( t48 -> mX . mX [ 33UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 51UL ] != 0 ) { out -> mF . mX [ 27UL ] = Ideal_Semiconductor_Switch5_ideal_switch_v - t48 -> mX . mX [ 32UL ] * 0.0001 ; } else { out -> mF . mX [ 27UL ] = Ideal_Semiconductor_Switch5_ideal_switch_v * 1.0E-6 - t48 -> mX . mX [ 32UL ] ; } if ( t48 -> mM . mX [ 52UL ] != 0 ) { out -> mF . mX [ 28UL ] = t22 - ( t48 -> mX . mX [ 34UL ] + 0.8 ) ; } else { out -> mF . mX [ 28UL ] = t22 - ( t48 -> mX . mX [ 34UL ] * 0.001 + 0.8 ) ; } if ( t48 -> mM . mX [ 52UL ] != 0 ) { out -> mF . mX [ 29UL ] = t48 -> mX . mX [ 21UL ] - ( t48 -> mX . mX [ 34UL ] * 1.0E-5 + 8.0000000000000013E-6 ) ; } else { out -> mF . mX [ 29UL ] = t48 -> mX . mX [ 21UL ] - ( t48 -> mX . mX [ 34UL ] + 8.0000000000000013E-6 ) ; } if ( t48 -> mM . mX [ 53UL ] != 0 ) { out -> mF . mX [ 30UL ] = t47 - t48 -> mX . mX [ 22UL ] * 0.0001 ; } else { out -> mF . mX [ 30UL ] = t47 * 1.0E-6 - t48 -> mX . mX [ 22UL ] ; } out -> mF . mX [ 0UL ] = - 0.0 ; out -> mF . mX [ 1UL ] = - 0.0 ; out -> mF . mX [ 2UL ] = - 0.0 ; out -> mF . mX [ 3UL ] = - 0.0 ; out -> mF . mX [ 4UL ] = - 0.0 ; out -> mF . mX [ 5UL ] = - ( ( PMSM_v_b - ( - ( t48 -> mX . mX [ 2UL ] * t28 * 24.0 ) ) ) / 0.66666666666666663 ) ; out -> mF . mX [ 6UL ] = - ( ( t34 - t48 -> mX . mX [ 2UL ] * PMSM_electrical_angle * 24.0 ) / 0.90444000000000013 ) ; out -> mF . mX [ 31UL ] = - ( ( t48 -> mX . mX [ 6UL ] * PMSM_electrical_angle - t48 -> mX . mX [ 5UL ] * t28 ) * 36.0 ) / 1.3566600000000002 ; out -> mF . mX [ 32UL ] = - ( t40 * t48 -> mX . mX [ 5UL ] + t41 * t48 -> mX . mX [ 6UL ] ) ; out -> mF . mX [ 33UL ] = - ( t39 * t48 -> mX . mX [ 5UL ] + t36 * t48 -> mX . mX [ 6UL ] ) ; out -> mF . mX [ 34UL ] = - ( t3 * t48 -> mX . mX [ 5UL ] + t35 * t48 -> mX . mX [ 6UL ] ) ; out -> mF . mX [ 35UL ] = - 400.0 ; ( void ) sys ; ( void ) out ; return 0 ; }
